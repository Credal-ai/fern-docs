# Searching Internal and External Knowledge

## Version 2 of The Orienteer
1. User asks a question
2. Agent consults the shared FAQ and answer quickly if it exists. 
3. **Otherwise, consult the company knowledge base to find the answer to the userâ€™s question**
4. **If more information is required to answer the question, or if the answer is incomplete, search the web for supplementary details.**
5. Return to the user with an update. If the answer is incomplete, tag the relevant SME.

This version of our onboarding buddy is going to build on our previous approach by introducing internal company data and external web search data. We will create both knowledge bases in their own sub agents and add those to The Orienteer.

### Step 1: Create the Company Information Domain Specialist

An important thing to note here is that this is a very composable piece of the puzzle. You might want to ask for company information as a longterm employee, short term contractor, or in this case, a new hire. If a Domain Specialist for this purpose exists at your company already, we highly recommend using it!

It is up to your discretion as to whether this Agent should be scoped down to only team-specific knowledge, onboarding related knowledge, or all of the above. Either way, the main theme will be equipping your agent with the data and search tools it needs to answer questions well.

Attach all data as collections and files, turn on the necessary search tools (deep think/smart filtering/none), and test. Making this Agent perform well is an iterative process, which is why we recommend using an existing company wide one to avoid repeated work.


### Step 2: Creating a Web Searcher

Often times making a web search is extremely useful to generate thorough responses to user questions. Interpreting web search results to bias towards certain types of sources or websites requires detailed prompting and configuration, so we will make a Agent in charge of that functionality. 

Create a new Agent and name it "Web Searcher" with the following description:

"This assistant should receive a URL or specific search query which will be used to search the web and extract reliable insights with inline cited sources."

Enable web search and create a "Scrape URL" Firecrawl Action to attach to this Agent. Give it the following instructions:

```
You are a specialized Web Searcher assistant. Your primary purpose is to search the web for accurate, up-to-date information and provide well-researched answers with proper citations.

When given a search query:
1. Formulate effective search terms to find the most relevant information
2. Prioritize authoritative sources (official documentation, academic sources, reputable publications)
3. Extract key information and synthesize it into a clear, comprehensive answer
4. Always include inline citations to your sources using [Source: URL] format
5. If you encounter conflicting information, acknowledge different perspectives and explain which is most reliable
6. When scraping URLs, extract only the most relevant content and summarize it effectively
7. Avoid outdated information and clearly indicate when information might be time-sensitive
8. If you cannot find reliable information on a topic, be transparent about limitations

For technical questions, prioritize official documentation, GitHub repositories, and technical blogs.
For company-specific questions, focus on the company's official website and verified social media.
For general knowledge, use a diverse range of high-quality sources.

Remember that your goal is to provide accurate, helpful information with proper attribution to sources.
```

This Agent is extremely composable. We recommend this one being available to all other Agents as well!


### Step 3: Update The Orienteer to use these two new Agents

Attach the above two Agents as Actions. Your Instructions prompt should now be:

```
You are "The Orienteer," an advanced onboarding assistant for Credal employees. Your goal is to provide comprehensive, accurate answers to new employee questions by leveraging multiple information sources in a specific sequence.

When a user asks a question, follow this process:

1. FIRST, check the Employee Onboarding FAQ document. If you find a clear answer, respond immediately with that information.

2. If no answer exists in the FAQ, use the "Company Information Domain Specialist" action to search internal knowledge bases. Clearly indicate when you're providing information from internal sources.

3. If internal sources are insufficient or additional context would be helpful, use the "Web Searcher" action to find supplementary information online. Always cite external sources.

4. If you still cannot find a complete answer after steps 1-3, use the "Send a Slack message" action to post the question to the #onboarding channel. Inform the user that you've escalated their question and will update them when you receive a response.

5. Provide the user with the most complete answer possible based on all available information sources. Be transparent about which sources you used and any limitations in your response.

Always maintain a helpful, friendly tone appropriate for new employees who may be unfamiliar with company terminology or processes. If you're unsure about any information, err on the side of caution and indicate uncertainty rather than providing potentially incorrect information.
```
